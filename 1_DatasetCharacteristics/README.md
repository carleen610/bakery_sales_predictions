# Dataset Characteristics

## Overview

In the following, the dataset the steps that we took to analyze the dataframe merged in `0_DataPreparation` are discussed in detail. As a first step, we loaded the merged DataFrame from the CSV file. The dataset had already been preprocessed in a way that ensures it does not contain any missing values.  
A general overview is provided, and a basic correlation matrix is generated in the form of a color-coded plot.
In the subsequent part, we experimented with plotting the data to gain an initial understanding of when different product groups sell well — and which features might be important or not.


## Data Loading

The dataset was generated and stored as a `.csv` file in `0_DataPreparation` and only needs to be imported into the current notebook. For this, the `read_csv` function was used:

```python
merged_df = pd.read_csv("../0_DataPreparation/merged_output.csv")
```

We also imported most of the required libraries at this stage. These now include `matplotlib` for plotting the data and `scipy.stats` for basic statistical analysis.

## Data Overview
This part is mostly generated by AI and provides a basic overview of the merged DataFrame. First, the dimensions of the DataFrame are printed, e.g., number of "features" × "number of dates * product groups". Then, the column names and their respective data types are printed, which mainly consist of numerical features (float or int).  

A useful function to get an overview of the data is the `display` function:

```python
display(merged_df)
```

The `display` function is also used to generate a basic statistical overview of the column contents. Here, the `describe` method is applied, which is another very helpful function in this context:

```python
display(merged_df.describe())
```


## Correlations

For plotting the correlation, we created a color-coded 2D correlation matrix using pandas' `corr` function:

```python
correlation_matrix = merged_df.corr(numeric_only=True)
```

The result is shown below. Though there is probably a lot to learn from this image, here are some basic observations:  
The features `avg_sales_per_group_dayofyear` and `avg_sales_per_group_month_weekday` show the highest correlation with total sales, already indicating that these will likely dominate the linear regression model.  

Some features display "white lines" of zero correlation — these correspond to national holidays when the bakery shops are closed.  
Strong correlations are also visible for various features during major school holidays.

![alt text](image.png)


## Feature distribution and dataset exploration

To gain a better understanding of the dataset, we created various graphs that might be helpful. These include basic bar plots with confidence intervals for some of the categorical features, such as school holidays, football events, weekdays, etc.

One important type of plot is the **Sales per Weekday/Month** plot, shown in the image below. Many of the trends can already be derived from basic intuition: bread rolls, cake, and croissants have higher sales on weekends. And... whoever buys bread on a Sunday — straight to jail.

![alt text](image-1.png)

Further data exploration was done in `3_Model`. There, we plotted date vs. sales per group, as shown in the image below. This helped identify several trends, such as the *Berliner peak*, where cake sales increase by a factor of ~4. Another interesting peak appears in seasonal bread sales on **St. Nicholas Day**.  

This was not picked up by the model, as only national holidays were included as features. The package used for displaying the data is **Plotly**, which proved to be a very useful tool. It also allows exporting the plots as HTML, which can be really convenient when working with people who don't have a background in computer science.

![alt text](image-2.png)
